@model SKBKontur.Treller.WebApplication.Implementation.Services.News.NewsFeed.TaskNewModel

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@section Header
{
    @Styles.Render("~/bundles/css/News")
}

<div class="news-content">
    <span class="news-block header">
        @Model.Content.Title
    </span>

    <div class="news-block">
        <div class="clearfix">
            @if (!string.IsNullOrEmpty(Model.Content.Motivation))
            {
                <div class="title">@Model.Content.Motivation</div>
            }
            
            <div class="title">@Model.Content.Analytics</div>
            <div class="title">@Model.Content.Branch</div>
            <div class="title">@Model.Content.TechInfo</div>
            <div class="title">@Model.Content.PubicInfo</div>
        </div>
        
        @foreach (var report in Model.Reports) {
            <div class="clearfix fitrow" >
                <div class="title">@report.Title</div>
                <div class="title">@report.Message</div>
                <div class="title">@report.PublishStrategy</div>
                <div class="action">
                    @using (Html.BeginForm("Publish", "News", FormMethod.Post))
                    {
                        @Html.TextBox("taskId", Model.TaskId, new { @class = "news_hidden" });
                        @Html.TextBox("publishStrategy", report.PublishStrategy, new { @class = "news_hidden" });
                        <input id="@Model.TaskId" type="submit" value="Опубликовать" class="news__button news_actualize_button" />
                    }
                </div>
            </div>
        }
    </div>
</div>